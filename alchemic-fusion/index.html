<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>알케믹 퓨전 (Alchemic Fusion)</title>
    <link rel="stylesheet" href="styles.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700&family=Noto+Sans+KR:wght@300;400;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <!-- 배경 효과 -->
    <div class="background-effects">
      <div class="mystical-particles"></div>
      <div class="ambient-light"></div>
    </div>

    <!-- 메인 컨테이너 -->
    <div class="main-container">
      <!-- 게임 타이틀 -->
      <header class="game-header">
        <h1 class="game-title">알케믹 퓨전</h1>
        <p class="game-subtitle">Alchemic Fusion</p>
      </header>

      <!-- 대기 화면 -->
      <div id="waiting-screen" class="screen active">
        <div class="waiting-layout">
          <!-- 중앙 플라스크 -->
          <div class="flask-container">
            <div class="flask">
              <div class="flask-neck"></div>
              <div class="flask-body">
                <div class="mystical-glow"></div>
                <div class="flask-liquid"></div>
              </div>
            </div>
            <div class="flask-base"></div>
          </div>

          <!-- 좌측 패널: 참가자 등록 -->
          <div class="left-panel">
            <div class="panel-card">
              <h3>🧙‍♂️ 연금술사 등록</h3>
              <div class="player-input">
                <input
                  type="text"
                  id="player-name"
                  placeholder="연금술사 이름 입력..."
                  maxlength="12"
                />
                <label class="random-checkbox">
                  <input type="checkbox" id="random-element" />
                  <span>무작위 원소</span>
                </label>
              </div>

              <div class="element-selection">
                <h4>원소 선택</h4>
                <div class="element-runes">
                  <div
                    class="rune fire"
                    data-element="fire"
                    title="불 (火) - 공격적이며 파괴적"
                  >
                    🔥
                  </div>
                  <div
                    class="rune water"
                    data-element="water"
                    title="물 (水) - 방어적이며 유동적"
                  >
                    💧
                  </div>
                  <div
                    class="rune wood"
                    data-element="wood"
                    title="나무 (木) - 성장하며 끈질김"
                  >
                    🌳
                  </div>
                  <div
                    class="rune metal"
                    data-element="metal"
                    title="쇠 (金) - 날카롭고 단단함"
                  >
                    ⚔️
                  </div>
                  <div
                    class="rune earth"
                    data-element="earth"
                    title="흙 (土) - 묵직하고 견고함"
                  >
                    🪨
                  </div>
                  <div
                    class="rune wind"
                    data-element="wind"
                    title="바람 (風) - 자유롭고 예측 불가능"
                  >
                    💨
                  </div>
                </div>
              </div>

              <button id="join-btn" class="join-button" disabled>
                참가하기
              </button>
            </div>
          </div>

          <!-- 우측 패널: 참가자 목록 -->
          <div class="right-panel">
            <div class="panel-card">
              <h3>📜 참가자 목록</h3>
              <div id="player-list" class="player-list">
                <div class="empty-list">아직 참가자가 없습니다</div>
              </div>
              <div class="game-info">
                <p>최소 2명 이상 참가해야 게임을 시작할 수 있습니다</p>
              </div>
            </div>
          </div>
        </div>

        <!-- 게임 시작 버튼 -->
        <div class="start-game-container">
          <button id="start-game-btn" class="start-game-button" disabled>
            <span class="button-text">🔮 실험 시작!</span>
            <div class="button-magic-effect"></div>
          </button>
        </div>
      </div>

      <!-- 게임 진행 화면 -->
      <div id="game-screen" class="screen">
        <div class="game-layout">
          <!-- 중앙 메인 스테이지 -->
          <div class="main-stage">
            <canvas id="game-canvas"></canvas>
            <div class="game-effects">
              <div class="reaction-effects"></div>
              <div class="particle-system"></div>
            </div>
          </div>

          <!-- 좌측: 실시간 전황판 -->
          <div class="left-game-panel">
            <div class="panel-card">
              <h3>⚔️ 실시간 전황</h3>

              <div class="status-section">
                <h4>생존자</h4>
                <div id="survivors-count" class="survivors-display">
                  <span class="count">0</span> / <span class="total">0</span>
                </div>
              </div>

              <div class="status-section">
                <h4>🏆 최고의 연금술사</h4>
                <div id="top-alchemists" class="ranking-list">
                  <div class="ranking-item">
                    <span class="rank">1.</span>
                    <span class="name">-</span>
                    <span class="score">0점</span>
                  </div>
                  <div class="ranking-item">
                    <span class="rank">2.</span>
                    <span class="name">-</span>
                    <span class="score">0점</span>
                  </div>
                  <div class="ranking-item">
                    <span class="rank">3.</span>
                    <span class="name">-</span>
                    <span class="score">0점</span>
                  </div>
                </div>
              </div>

              <div class="status-section">
                <h4>💎 현자의 돌 후보</h4>
                <div id="philosopher-candidates" class="candidate-list">
                  <div class="candidate-item">-</div>
                </div>
              </div>
            </div>
          </div>

          <!-- 우측: 이벤트 로그 -->
          <div class="right-game-panel">
            <div class="panel-card">
              <h3>📖 이벤트 로그</h3>
              <div id="event-log" class="event-log">
                <div class="log-item system">
                  <span class="timestamp">00:00</span>
                  <span class="event">게임이 시작되었습니다</span>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- 게임 제어 -->
        <div class="game-controls">
          <div class="timer-display">
            <span id="game-timer">03:00</span>
          </div>
          <button id="pause-btn" class="control-btn">⏸️ 일시정지</button>
          <button id="reset-btn" class="control-btn">🔄 다시시작</button>
        </div>
      </div>

      <!-- 결과 화면 -->
      <div id="result-screen" class="screen">
        <div class="result-layout">
          <div class="result-spotlight">
            <div class="spotlight-effect"></div>
          </div>

          <div class="result-content">
            <h2 class="result-title">🏆 전설의 탄생</h2>

            <div class="winners-showcase">
              <div class="winner-card" id="philosopher-winner">
                <div class="winner-crown">👑</div>
                <h3>💎 현자의 돌</h3>
                <div class="winner-name">-</div>
                <div class="winner-element">-</div>
                <div class="winner-description">순수함을 지킨 연금술사</div>
              </div>

              <div class="winner-card" id="alchemist-winner">
                <div class="winner-crown">👑</div>
                <h3>🏆 최고의 연금술사</h3>
                <div class="winner-name">-</div>
                <div class="winner-element">-</div>
                <div class="winner-score">0점</div>
                <div class="winner-description">
                  가장 활발한 반응을 이끈 연금술사
                </div>
              </div>

              <div class="winner-card" id="survivor-winner">
                <div class="winner-crown">👑</div>
                <h3>⚔️ 최후의 생존자</h3>
                <div class="winner-name">-</div>
                <div class="winner-element">-</div>
                <div class="winner-description">끝까지 살아남은 연금술사</div>
              </div>
            </div>

            <div class="final-results">
              <h3>📊 최종 결과</h3>
              <div id="final-rankings" class="final-ranking-table">
                <!-- 동적으로 생성 -->
              </div>
            </div>

            <div class="result-actions">
              <button id="play-again-btn" class="action-button primary">
                🔮 다시 실험하기
              </button>
              <button id="share-result-btn" class="action-button secondary">
                📤 결과 공유하기
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- 오디오 -->
    <audio id="background-music" loop>
      <source src="audio/background.mp3" type="audio/mpeg" />
    </audio>

    <!-- 스크립트 -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/matter-js/0.18.0/matter.min.js"></script>
    <script src="js/game.js"></script>
    <script src="js/elements.js"></script>
    <script src="js/physics.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/audio.js"></script>
    <script src="js/main.js"></script>
  </body>
</html>
